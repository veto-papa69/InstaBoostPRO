import{r as o,j as e}from"./ui-D3fYehC7.js";import{u as S,a as k,b as u,A as b,f as i,B as O,S as C}from"./index-BkDz3jxm.js";import"./vendor-BtP0CW_r.js";import"./router-BkWGCIhy.js";import"./utils-B2rm_Apj.js";import"./icons-CfQ0IvU1.js";import"./forms-NByhtiB_.js";function q(){const{isAuthenticated:r}=S(),{toast:j}=k(),[g,f]=o.useState(null),[N,d]=o.useState(!1),[x,l]=o.useState(!1),{data:m=[]}=u({queryKey:["/api/services"],enabled:r}),{data:v}=u({queryKey:["/api/referrals/discount-access"],enabled:r});if(!r)return e.jsxs("div",{className:"min-h-screen pt-28 pb-8",style:{backgroundColor:"var(--main-bg)"},children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"text-center py-20",children:e.jsxs("div",{className:"mb-8",children:[e.jsx("i",{className:"fas fa-lock text-gold text-6xl mb-6"}),e.jsx("h1",{className:"text-4xl font-bold text-gold mb-4",children:"Authentication Required"}),e.jsx("p",{className:"text-xl text-cream/70 mb-8",children:"Please login with your Instagram account to access discounted services"}),e.jsx("button",{onClick:()=>l(!0),className:"btn-primary px-8 py-3 text-lg",children:"Login Now"})]})})}),e.jsx(b,{isOpen:x,onClose:()=>l(!1)})]});if(v===!1)return e.jsx("div",{className:"min-h-screen pt-28 pb-8",style:{backgroundColor:"var(--main-bg)"},children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"text-center py-20",children:e.jsxs("div",{className:"mb-8",children:[e.jsx("i",{className:"fas fa-times-circle text-red-400 text-6xl mb-6"}),e.jsx("h1",{className:"text-4xl font-bold text-gold mb-4",children:"Discount Not Available"}),e.jsx("p",{className:"text-xl text-cream/70 mb-8",children:"You need to complete the referral program to access 50% discount"}),e.jsx("a",{href:"/referrals",className:"btn-primary px-8 py-3 text-lg",children:"Go to Referral Program"})]})})})});const y=s=>{if(!r){j({title:"Login Required",description:"Please login with your Instagram account first to place an order.",variant:"destructive"}),l(!0);return}f(s),d(!0)},h=m.reduce((s,t)=>(s[t.category]||(s[t.category]=[]),s[t.category].push(t),s),{}),p=s=>{switch(s.toLowerCase()){case"followers":return"fas fa-users";case"likes":return"fas fa-heart";case"views":return"fas fa-eye";case"comments":return"fas fa-comments";default:return"fas fa-star"}},w=s=>{switch(s.toLowerCase()){case"followers":return"from-pink-500/20 to-purple-500/20";case"likes":return"from-red-500/20 to-pink-500/20";case"views":return"from-blue-500/20 to-cyan-500/20";case"comments":return"from-green-500/20 to-emerald-500/20";default:return"from-gold/20 to-tan/20"}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"pt-24 pb-16 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsxs("div",{className:"bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-400/30 rounded-xl p-6 mb-8",children:[e.jsxs("h1",{className:"text-4xl font-bold text-gold mb-4",children:[e.jsx("i",{className:"fas fa-percentage mr-3"}),"50% Discount Services"]}),e.jsx("p",{className:"text-xl text-cream/70",children:"Congratulations! You've unlocked 50% discount on all services"})]})}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:Object.entries(h).map(([s,t])=>{const a=Math.min(...t.map(n=>parseFloat(n.rate))),c=a*.5;return e.jsxs("div",{className:"bg-charcoal border border-green-400/40 rounded-xl p-6 text-center hover:border-green-400/60 transition-all duration-300 hover:transform hover:scale-105",children:[e.jsx("i",{className:`${p(s)} text-gold text-3xl mb-4`}),e.jsx("h3",{className:"text-lg font-bold text-gold mb-2",children:s}),e.jsxs("p",{className:"text-cream/80 text-sm mb-4",children:[t.length," service",t.length>1?"s":""," available"]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("span",{className:"text-red-400 line-through text-sm block",children:["Was ",i(a),"/1000"]}),e.jsxs("span",{className:"text-green-400 font-bold text-lg block",children:["Now ",i(c),"/1000"]})]}),e.jsx("div",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full mt-2 inline-block",children:"50% OFF"})]},s)})}),e.jsx("div",{className:"space-y-8",children:Object.entries(h).map(([s,t])=>e.jsxs("div",{className:"bg-charcoal border border-green-400/40 rounded-xl overflow-hidden",children:[e.jsx("div",{className:`bg-gradient-to-r ${w(s)} p-4 border-b border-green-400/30`,children:e.jsxs("h2",{className:"text-xl font-semibold text-gold flex items-center",children:[e.jsx("i",{className:`${p(s)} mr-3`}),"Instagram ",s,e.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full ml-4",children:"50% OFF"})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-charcoal-dark",children:e.jsxs("tr",{className:"text-left",children:[e.jsx("th",{className:"p-4 text-cream/70",children:"Service"}),e.jsx("th",{className:"p-4 text-cream/70",children:"Rate"}),e.jsx("th",{className:"p-4 text-cream/70",children:"Min/Max"}),e.jsx("th",{className:"p-4 text-cream/70",children:"Delivery"}),e.jsx("th",{className:"p-4 text-cream/70",children:"Action"})]})}),e.jsx("tbody",{children:t.map(a=>{const c=parseFloat(a.rate),n=c*.5;return e.jsxs("tr",{className:"border-t border-green-400/20 hover:bg-charcoal-dark/50 transition-colors",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-cream",children:a.name}),e.jsxs("p",{className:"text-sm text-cream/60",children:["High quality ",s.toLowerCase()]}),e.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"50% OFF"})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"text-red-400 line-through text-sm",children:[i(c)," per 1000"]}),e.jsxs("div",{className:"text-green-400 font-semibold text-lg",children:[i(n)," per 1000"]})]})}),e.jsxs("td",{className:"p-4 text-cream/70",children:[a.minOrder.toLocaleString()," / ",a.maxOrder.toLocaleString()]}),e.jsx("td",{className:"p-4 text-cream/70",children:a.deliveryTime}),e.jsx("td",{className:"p-4",children:e.jsxs(O,{onClick:()=>y({...a,rate:n.toString()}),className:"bg-green-500 hover:bg-green-600 text-white hover:scale-105 transition-all duration-300",size:"sm",children:[e.jsx("i",{className:"fas fa-shopping-cart mr-2"}),"Order"]})})]},a.id)})})]})})]},s))}),m.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"fas fa-box-open text-4xl text-cream/50 mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-cream mb-2",children:"No Services Available"}),e.jsx("p",{className:"text-cream/70",children:"Services will be available soon. Please check back later."})]})]})}),e.jsx(C,{isOpen:N,onClose:()=>d(!1),service:g,isDiscounted:!0}),e.jsx(b,{isOpen:x,onClose:()=>l(!1)})]})}export{q as default};
